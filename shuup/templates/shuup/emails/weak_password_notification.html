<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Notice: Password Update Required</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 20px; background-color: #f4f4f4; }
        .container { max-width: 600px; margin: 0 auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { background: #e74c3c; color: white; padding: 20px; margin: -30px -30px 30px -30px; border-radius: 8px 8px 0 0; text-align: center; }
        .warning-icon { font-size: 48px; margin-bottom: 10px; }
        .alert-box { background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .requirements { background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .requirements ul { margin: 10px 0; padding-left: 20px; }
        .requirements li { margin: 5px 0; }
        .example-password { background: #f8f9fa; border: 1px solid #dee2e6; padding: 10px; border-radius: 5px; font-family: monospace; font-weight: bold; color: #28a745; }
        .action-button { display: inline-block; background: #007bff; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 20px 0; font-weight: bold; }
        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #eee; font-size: 12px; color: #666; }
        .staff-notice { background: #d1ecf1; border: 1px solid #bee5eb; padding: 15px; border-radius: 5px; margin: 20px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="warning-icon">‚ö†Ô∏è</div>
            <h1>Security Notice</h1>
            <h2>Password Update Required</h2>
        </div>

        <p>Dear {% if user.first_name %}<strong>{{ user.first_name }}</strong>{% else %}<strong>{{ user.username }}</strong>{% endif %},</p>

        <div class="alert-box">
            <strong>üîí IMPORTANT:</strong> We have identified that your password on <strong>{{ site_name }}</strong> likely matches patterns that may not meet our current security standards. For your protection, we require you to update your password.
        </div>

        {% if is_staff %}
        <div class="staff-notice">
            <strong>üë®‚Äçüíº Administrator Notice:</strong> As an administrator, maintaining strong password security is especially important to protect the system and user data.
        </div>
        {% endif %}

        <h3>üéØ What You Need to Do:</h3>
        <ol>
            <li>Log in to your account at <a href="{{ site_url }}">{{ site_url }}</a></li>
            <li>You will be automatically redirected to update your password</li>
            <li>Choose a strong password that meets our security requirements</li>
        </ol>

        <div class="requirements">
            <h3>üõ°Ô∏è New Password Requirements:</h3>
            <ul>
                <li>‚úÖ At least 8 characters long</li>
                <li>‚úÖ Contains uppercase letters (A-Z)</li>
                <li>‚úÖ Contains lowercase letters (a-z)</li>
                <li>‚úÖ Contains numbers (0-9)</li>
                <li>‚úÖ Contains special characters (!@#$%^&*)</li>
                <li>‚úÖ Not similar to your username, email, or personal information</li>
                <li>‚úÖ Not a commonly used password</li>
            </ul>
        </div>

        <h4>üí° Example of a Strong Password:</h4>
        <div class="example-password">MyStr0ng!P@ssw0rd2024</div>

        <a href="{{ site_url }}" class="action-button">üîê Update My Password Now</a>

        <h3>ü§î Why This Is Important:</h3>
        <ul>
            <li>Protects your personal and account information</li>
            <li>Prevents unauthorized access to your account</li>
            <li>Meets current cybersecurity best practices</li>
            <li>Helps protect the entire platform community</li>
        </ul>

        <div class="alert-box">
            <strong>‚ö° Next Login:</strong> When you next log in, you will be guided through the password update process. You cannot access other parts of the system until your password is updated.
        </div>

        <p>If you have trouble updating your password or have questions about this security requirement, please contact our support team.</p>

        <p>Thank you for helping us maintain a secure platform.</p>

        <p><strong>Best regards,<br>{{ site_name }} Security Team</strong></p>

        <div class="footer">
            This is an automated security notification from {{ site_name }}.<br>
            If you did not request this or believe this is an error, please contact support immediately.
        </div>
    </div>
</body>
</html>
